<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- page title -->
    <title>产品详情 - 视宇通科技</title>
    <!-- favicon -->
    <link rel="icon" href="favicon.ico" />
    <!-- bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- font awesome -->
    <link href="css/all.min.css" rel="stylesheet" />
    <!-- owl carousel -->
    <link href="css/owl.carousel.min.css" rel="stylesheet" />
    <link href="css/owl.theme.default.min.css" rel="stylesheet" />
    <!-- venobox css -->
    <link rel="stylesheet" href="css/venobox.css" />
    <!-- custom styles for this template -->
    <link href="css/custom.css" rel="stylesheet" />
    <link href="css/responsive.css" rel="stylesheet" />
    <link href="css/helper.css" rel="stylesheet" />

    <!-- Additional styles for product detail -->
    <style>
      .product-detail-section {
        padding: 70px 0 40px;
      }

      .product-image {
        width: 100%;
        height: 400px;
        object-fit: contain;
        background-color: #f7f9f9;
        border-radius: 8px;
        padding: 20px;
      }

      .product-info {
        padding-left: 30px;
      }

      .product-title-row {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .product-title {
        font-size: 2.5rem;
        font-weight: bold;
        color: #333;
        margin: 0;
      }

      .product-category {
        display: inline-block;
        background-color: #007bff;
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        white-space: nowrap;
      }

      .product-description {
        font-size: 1.1rem;
        color: #666;
        line-height: 1.6;
        margin-bottom: 30px;
      }

      .product-specs {
        margin-bottom: 30px;
      }

      .product-specs h5 {
        color: #333;
        margin-bottom: 15px;
        font-weight: bold;
        text-align: left;
      }

      .product-detail-images {
        padding: 40px 0;
        background-color: #f8f9fa;
      }

      .detail-image {
        width: 100%;
        height: auto;
        margin: 0 0 30px 0;
        display: block;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .loading-spinner {
        text-align: center;
        padding: 50px 0;
      }

      .error-message {
        text-align: center;
        padding: 50px 0;
        color: #dc3545;
      }

      @media (max-width: 768px) {
        .product-info {
          padding-left: 0;
          margin-top: 30px;
        }

        .product-title-row {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }

        .product-title {
          font-size: 2rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- ================ Preloader ================ -->
    <div id="preloader">
      <div class="spinner-grow" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <!-- ================ Preloader end ================ -->

    <!-- ================ Header ================ -->
    <header class="header">
      <!-- header space -->
      <div class="header-space"></div>
      <!-- header space end -->
      <!-- header upper -->
      <div class="header-upper-bar w-100 d-inline-block">
        <div class="container">
          <div class="row d-flex align-items-center">
            <div class="col-lg-6 col-md-8">
              <!-- header contact -->
              <ul
                class="header-contact list-inline text-sm-center text-lg-start"
              >
                <li class="list-inline-item">
                  <a href="tel:1-123-456-7890"><span>P:</span> 0755-33239593</a>
                </li>
                <li class="list-inline-item">
                  <a href="mailto:info@exampal.com"
                    ><span>E:</span> support@sytong2013.com</a
                  >
                </li>
              </ul>
              <!-- header contact end -->
            </div>
            <div class="col-lg-6 col-md-4">
              <!-- header social -->
              <ul
                class="list-inline header-social text-sm-center float-lg-end float-md-end float-sm-none"
              >
                <li class="list-inline-item">
                  <a href="https://www.youtube.com/@SytongOptics"
                    ><i class="fa-brands fa-youtube"></i
                  ></a>
                </li>
              </ul>
              <!-- header social end -->
            </div>
          </div>
        </div>
      </div>
      <!-- header upper end -->
      <!-- header lover -->
      <div class="header-lover">
        <div class="container">
          <nav class="navbar navbar-expand-md">
            <!-- logo -->
            <a class="navbar-brand" href="index.html"
              ><img src="img/logo.png" alt=""
            /></a>
            <!-- logo end -->
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarsExample03"
              aria-controls="navbarsExample03"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span></span> <span></span> <span></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExample03">
              <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                  <a class="nav-link" href="index.html">主页</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="products.html">产品中心</a>
                </li>
                <!-- <li class="nav-item">
                <a class="nav-link" href="faq.html">FAQ</a>
              </li> -->
                <li class="nav-item">
                  <a class="nav-link" href="about.html">关于我们</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="join-us.html">加入我们</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contacts.html">联系我们</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
      <!-- header lover end -->
    </header>
    <!-- ================ Header end ================ -->

    <!-- ================ Inner Page title area ================ -->
    <div class="inner-page-title">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 offset-lg-2">
            <h1 id="page-title">产品详情</h1>
            <!-- breadcrumb area -->
            <div class="breadcrumb-area">
              <ol class="breadcrumb bg-transparent rounded-0 m-0 p-0">
                <li class="breadcrumb-item"><a href="index.html">主页</a></li>
                <li class="breadcrumb-item">
                  <a href="products.html">产品中心</a>
                </li>
                <li class="breadcrumb-item active" id="breadcrumb-product">
                  产品详情
                </li>
              </ol>
            </div>
            <!-- breadcrumb area end -->
          </div>
        </div>
      </div>
    </div>
    <!-- ================ Inner Page title area end ================ -->

    <!-- ================ Product Detail Section ================ -->
    <div class="product-detail-section">
      <div class="container">
        <!-- Loading indicator -->
        <div id="loading" class="loading-spinner" style="display: none">
          <div class="spinner-border" role="status">
            <span class="sr-only">加载中...</span>
          </div>
          <p class="mt-2">正在加载产品信息...</p>
        </div>

        <!-- Error message -->
        <div id="error-message" class="error-message" style="display: none">
          <h4>产品信息加载失败</h4>
          <p>请检查产品名称或稍后重试</p>
        </div>

        <!-- Product detail content -->
        <div id="product-content" style="display: none">
          <!-- Product Info Section -->
          <div class="row align-items-center mb-5">
            <div class="col-lg-6 col-md-6">
              <img id="product-image" src="" alt="" class="product-image" />
            </div>
            <div class="col-lg-6 col-md-6">
              <div class="product-info">
                <div class="product-title-row">
                  <h2 id="product-title" class="product-title"></h2>
                  <div id="product-category" class="product-category"></div>
                </div>
                <p id="product-description" class="product-description"></p>

                <div class="product-specs">
                  <h5>产品规格</h5>
                  <div id="product-specs-content">
                    <!-- 产品规格信息将在这里动态加载 -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- ================ Product Detail Section end ================ -->

    <!-- ================ Product Detail Images Section ================ -->
    <div
      id="product-detail-images"
      class="product-detail-images"
      style="display: none"
    >
      <div class="container">
        <!-- <h3 class="text-center mb-4">产品详情图</h3> -->
        <div class="row">
          <div class="col-12">
            <div id="detail-images-container">
              <!-- 详情图片将在这里动态加载 -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- ================ Product Detail Images Section end ================ -->
    <!-- ================ Footer area ================ -->
    <footer class="footer pt-50">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 col-sm-6 mb-30">
            <!-- footer title -->
            <h4 class="footer-item-title">关于我们</h4>
            <!-- footer title end -->
            <!-- footer about -->
            <div class="footer-about">
              <p class="mb-0">
                成立于2013年，专注夜视与热成像技术研发制造，拥有自主研发的探测器芯片与完整生产线。旗下
                Sytong
                品牌远销欧美、澳洲、东南亚，产品广泛应用于野外观察、搜救与安防领域，深受全球用户信赖。
              </p>
            </div>
            <!-- footer about end -->
            <!-- footer social -->
            <div class="footer-social mt-20">
              <a href="https://www.youtube.com/@SytongOptics"
                ><i class="fa-brands fa-youtube"></i
              ></a>
            </div>
            <!-- footer social end -->
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6 mb-30">
            <!-- footer title -->
            <h4 class="footer-item-title">快速访达</h4>
            <!-- footer title end -->
            <!-- footer link -->
            <ul class="footer-link">
              <li>
                <a href="index.html"
                  ><i class="fas fa-chevron-right"></i> 主页</a
                >
              </li>
              <li>
                <a href="products.html"
                  ><i class="fas fa-chevron-right"></i> 产品中心</a
                >
              </li>
              <!-- <li>
              <a href="faq.html"><i class="fas fa-chevron-right"></i> FAQ</a>
            </li> -->
            </ul>
            <!-- footer link end -->
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6 mb-30">
            <!-- footer title -->
            <h4 class="footer-item-title">加入我们</h4>
            <!-- footer title end -->
            <!-- footer about -->
            <ul class="footer-link">
              <li>
                <a href="about.html"
                  ><i class="fas fa-chevron-right"></i> 关于我们</a
                >
              </li>
              <li>
                <a href="join-us.html"
                  ><i class="fas fa-chevron-right"></i> 成为代理</a
                >
              </li>
              <li>
                <a href="contacts.html"
                  ><i class="fas fa-chevron-right"></i> 联系我们</a
                >
              </li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6 mb-30">
            <!-- footer title -->
            <h4 class="footer-item-title">联系我们</h4>
            <!-- footer title end -->
            <!-- footer contact -->
            <ul class="footer-contact">
              <li>
                <a
                  href="https://map.baidu.com/poi/%E5%A4%A7%E6%B5%AA%E6%97%B6%E5%B0%9A%E5%B0%8F%E9%95%87/@12689839.558812967,2579377.3908853885,21z?uid=f569a601378e07359022e04d&info_merge=1&isBizPoi=false&ugc_type=3&ugc_ver=1&device_ratio=2&compat=1&pcevaname=pc4.1&querytype=detailConInfo&da_src=shareurl"
                >
                  <span>地址:</span>
                  深圳市龙华区大浪街道浪花路8号名牌时尚创意广场3A层
                </a>
              </li>
              <li>
                <span>电话:</span>
                <a href="tel:1-123-456-7890">0755-29681280 </a>
              </li>
              <li>
                <span>邮箱:</span>
                <a href="mailto:info@exampal.com">support@sytong2013.com </a>
              </li>
              <li>
                <span>官网:</span>
                <a href="https://www.sytongoptics.com">www.sytongoptics.com </a>
              </li>
            </ul>
            <!-- footer contact end -->
          </div>
        </div>
      </div>
      <!-- copyright footer -->
      <div class="copyright-footer text-center mt-20">
        <div class="container">
          <p class="mb-0">
            © <span class="current-year"></span> All Rights Reserved.
            <a
              target="_blank"
              href="https://www.sytongoptics.com/"
              title="视宇通科技"
              class="text-white"
              >深圳市视宇通科技有限公司</a
            >
          </p>
        </div>
      </div>

      <!-- copyright footer end -->
    </footer>
    <!-- ================ Footer area end ================ -->

    <!--  ================ Top scroll ================ -->
    <a href="#" class="scroll-top"><i class="fas fa-arrow-up"></i></a>
    <!--  ================ Top scroll end ================ -->

    <!-- js files -->
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- counter js -->
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <!-- venobox js -->
    <script src="js/venobox.min.js"></script>
    <!-- owl carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- sticky js -->
    <script src="js/classie.js"></script>
    <!-- portfolio js -->
    <script src="js/jquery.mixitup.min.js"></script>
    <!-- axios for API calls -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- script js -->
    <script src="js/custom.js"></script>

    <!-- Product detail loading script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        loadProductDetail();
      });

      function getUrlParameter(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
      }

      async function loadProductDetail() {
        const productName = getUrlParameter("product");

        if (!productName) {
          showError("未指定产品名称");
          return;
        }

        const loadingElement = document.getElementById("loading");
        const errorElement = document.getElementById("error-message");
        const contentElement = document.getElementById("product-content");
        const detailImagesElement = document.getElementById(
          "product-detail-images"
        );

        // Show loading indicator
        loadingElement.style.display = "block";
        errorElement.style.display = "none";
        contentElement.style.display = "none";
        detailImagesElement.style.display = "none";

        try {
          const response = await axios.get(
            "https://api.sytongoutdoor.com/api/products"
          );

          if (response.data.success && response.data.data.products) {
            const product = response.data.data.products.find(
              (p) => p.name === productName
            );

            if (product) {
              renderProductDetail(product);
            } else {
              showError(`未找到产品: ${productName}`);
            }
          } else {
            throw new Error("Invalid response format");
          }
        } catch (error) {
          console.error("Error loading product detail:", error);
          showError("加载产品信息失败，请稍后重试");
        } finally {
          loadingElement.style.display = "none";
        }
      }

      function renderProductDetail(product) {
        // Update page title and breadcrumb
        document.getElementById("page-title").textContent = product.name;
        document.getElementById("breadcrumb-product").textContent =
          product.name;
        document.title = `${product.name} - 视宇通科技`;

        // Update product information
        document.getElementById("product-image").src = product.image;
        document.getElementById("product-image").alt = product.name;
        document.getElementById("product-category").textContent =
          product.category;
        document.getElementById("product-title").textContent = product.name;
        document.getElementById("product-description").textContent =
          product.description || "暂无详细描述";

        // Update product specifications (you can customize this based on your needs)
        const specsContainer = document.getElementById("product-specs-content");
        specsContainer.innerHTML = `
        <p><strong>产品名称:</strong> ${product.name}</p>
        <p><strong>产品类别:</strong> ${product.category}</p>
        <p><strong>产品描述:</strong> ${product.description || "暂无"}</p>
      `;

        // Show content
        document.getElementById("product-content").style.display = "block";

        // Show detail images section with the detail_page image
        if (product.detail_page) {
          const detailImagesContainer = document.getElementById(
            "detail-images-container"
          );
          detailImagesContainer.innerHTML = `
          <img src="${product.detail_page}" alt="${product.name} 详情图" class="detail-image">
        `;
          document.getElementById("product-detail-images").style.display =
            "block";
        }
      }

      function showError(message) {
        const errorElement = document.getElementById("error-message");
        errorElement.querySelector("p").textContent = message;
        errorElement.style.display = "block";
      }
    </script>
  </body>
</html>
